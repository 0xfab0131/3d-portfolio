# アプリケーション コマンド一覧

このドキュメントは、3D モニターアプリケーションの主要な開発コマンドをまとめたものです。
パッケージマネージャーとして `pnpm` を使用します。

## 必要なツール

- Node.js (v18 以降推奨)
- `pnpm` (推奨インストール方法: `corepack enable`)
- Git
- (任意) Vercel CLI (`npm install -g vercel`)

## 基本コマンド

### 1. 依存パッケージのインストール

プロジェクトに必要な全ての依存ライブラリをインストールします。
`node_modules` ディレクトリが存在しない場合や、依存関係を更新した場合に実行します。

```bash
pnpm install
```

- `pnpm` は `npm` や `yarn` よりも効率的にパッケージを管理します。
- 初回実行時や `package.json` に変更があった場合に実行してください。
- 依存関係の解決に問題がある場合は、`--legacy-peer-deps` フラグを試すことがありますが、通常は不要です。

### 2. 開発サーバーの起動

ローカル開発用のサーバーを起動します。ファイルの変更を監視し、自動的にリロードします。
デフォルトでは `http://localhost:3001` でアクセスできます。

```bash
pnpm start
```

- Ctrl+C でサーバーを停止します。
- ポートが使用中の場合は、自動的に別のポートが選択されることがあります。
- `package.json` の `scripts.start` で `PORT=3001` が指定されています。

### 3. 本番用ビルドの作成

最適化された静的ファイルを `build/` ディレクトリに生成します。
デプロイ前に実行します。ソースマップは生成されません。

```bash
pnpm build
```

- このコマンドは `package.json` の `scripts.build` に定義されています (`GENERATE_SOURCEMAP=false` が設定されています)。
- 生成された `build` ディレクトリの内容を静的ホスティングサーバーにデプロイできます。

### 4. テストの実行 (設定されている場合)

設定されているユニットテストやインテグレーションテストを実行します。
(現在、このプロジェクトにはテストは具体的に設定されていません)

```bash
pnpm test
```

### 5. Create React App の設定を "eject"

**注意: これは元に戻せない操作です！**
CRA の隠蔽された設定 (Webpack, Babel など) をプロジェクト内に展開し、完全にカスタマイズ可能にします。
通常、この操作は必要ありません。

```bash
pnpm eject
```

## デプロイメント (Vercel)

このプロジェクトは Vercel へのデプロイが設定されています。
Vercel CLI がグローバルにインストールされている必要があります (`npm install -g vercel`)。

### 1. プレビューデプロイ

Vercel にデプロイし、プレビュー用のユニークな URL を生成します。
変更内容の確認に適しています。

```bash
pnpm deploy
```

### 2. プロダクションデプロイ

Vercel のプロダクション環境にデプロイします。
`vercel.json` の設定に基づいてデプロイが実行されます。

```bash
pnpm deploy:prod
```

## 推奨されるワークフロー

1.  リポジトリをクローンする
2.  `pnpm install` で依存関係をインストールする
3.  `pnpm start` で開発サーバーを起動し、開発を行う
4.  変更が完了したら `pnpm build` でビルドする
5.  (任意) `pnpm deploy` または `pnpm deploy:prod` で Vercel にデプロイする

## その他の情報

- プロジェクトの構造については `project-structure.md` を参照してください。
- 詳細なセットアップ手順については `step-by-step-guide.md` を参照してください (必要に応じて更新)。
